<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="RelLancamentoFinanceiro" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="82c7e3ef-5145-4e10-aacd-f27e987bacf9">
	<property name="ireport.zoom" value="0.9090909090909096"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="tipo" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dtinicial" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dtfinal" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dtemiini" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dtemifim" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dtvencini" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dtvencfim" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="MostrarPagos" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT l.*,e.*,f.* ,f.descricao as 'descforma',coalesce(l.dtpagamento,'') FROM lancamentofinanceiro l
INNER JOIN empresa e ON l.empresa_codempresa = e.codempresa
INNER JOIN formaspagamento f ON l.formaspagamento_codigo = f.codigo
WHERE ($P{tipo} IS NULL OR l.tipo = $P{tipo})

AND l.excluido = 0
AND ($P{dtinicial} IS NULL OR l.dtpagamento >= $P{dtinicial})
AND ($P{dtfinal} IS NULL OR l.dtpagamento <= $P{dtfinal})


AND ($P{dtemiini} IS NULL OR l.dtemissao >= $P{dtemiini})
AND ($P{dtemifim} IS NULL OR l.dtemissao <= $P{dtemifim})

AND ($P{dtvencini} IS NULL OR l.dtvencimento >= $P{dtvencini})
AND ($P{dtvencfim} IS NULL OR l.dtvencimento <= $P{dtvencfim})

AND ($P{MostrarPagos} IS NULL OR
    ($P{MostrarPagos} = 'Pagos' AND l.dtpagamento IS NOT NULL) OR
    ($P{MostrarPagos} = 'Abertos' AND l.dtpagamento IS NULL) OR
    ($P{MostrarPagos} = 'Todos'))]]>
	</queryString>
	<field name="cod" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="tipo" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="descricao" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="dtemissao" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="dtvencimento" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="valor" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ultimaalteracao" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="formaspagamento_codigo" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="classificacaofinanceira_cod" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="pessoas_id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="usuarios_id" class="java.lang.Long">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="empresa_codempresa" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="excluido" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="observacao" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="dtpagamento" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="numos" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codCartao" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codempresa" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="razaoSocial" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fantasia" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="cnpjcpf" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="rginscri" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="endereco" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="numero" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="cep" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="complemento" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="bairro" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="cidade" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="estado" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="telefone" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codigo" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="status" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="vencimentoprimeiraparcela" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="vencimentodemaisparcelas" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nummaximoparcelas" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="valorminimoparcelas" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="taxaprimeiraparcela" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="taxademaisparcelas" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fornecedor" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="banco" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="contacorrente" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="descforma" class="java.lang.String"/>
	<field name="coalesce(l.dtpagamento,&apos;&apos;)" class="java.lang.String"/>
	<variable name="valor_1" class="java.lang.Double" resetType="Page" calculation="Sum">
		<variableExpression><![CDATA[$F{valor}]]></variableExpression>
	</variable>
	<variable name="sdespesas" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{tipo}.equals("Despesas") ? $F{valor}: BigDecimal.ZERO]]></variableExpression>
	</variable>
	<variable name="sreceitas" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{tipo}.equals("Receita") ? $F{valor}: BigDecimal.ZERO]]></variableExpression>
	</variable>
	<variable name="balanco" class="java.math.BigDecimal" resetType="None">
		<variableExpression><![CDATA[]]></variableExpression>
		<initialValueExpression><![CDATA[$V{sdespesas}.subtract($V{sreceitas})]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<rectangle radius="10">
				<reportElement x="0" y="0" width="555" height="79" uuid="addf3528-7b74-4a9c-919e-56d843431bd1"/>
			</rectangle>
			<image hAlign="Center" onErrorType="Blank">
				<reportElement x="8" y="3" width="95" height="73" uuid="23a0ebfc-e36f-41ac-994b-f21fd2f2bf59"/>
				<imageExpression><![CDATA["C:\\Windows\\Logo.jpg"]]></imageExpression>
			</image>
			<line>
				<reportElement x="435" y="0" width="1" height="79" uuid="ec661a47-1c59-4a47-b9b8-fd081d5eef8f"/>
			</line>
			<textField>
				<reportElement x="449" y="39" width="54" height="20" uuid="56ce7212-7dde-41e7-a2b4-4d7dea6fe0f8"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="503" y="39" width="40" height="20" uuid="dfc9ba6a-9b06-4144-a6b8-fd3840003673"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="dd MMMMM yyyy">
				<reportElement x="451" y="13" width="94" height="20" uuid="dfd7d6e5-4d1e-4790-ad64-9e6d39ca19ac"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="122" y="13" width="304" height="20" uuid="26793541-0c35-4f91-bd32-285f3ab7dbe8"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fantasia}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="122" y="39" width="304" height="20" uuid="218747ba-9038-425d-8105-d87c8397801b"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{razaoSocial}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="106" y="0" width="1" height="78" uuid="667a521a-7559-4629-b98c-dd4418858e13"/>
			</line>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="42" splitType="Stretch">
			<rectangle>
				<reportElement x="0" y="1" width="555" height="20" uuid="76bb7c0b-8354-40a0-aa15-1603b6de94ef"/>
			</rectangle>
			<staticText>
				<reportElement x="53" y="1" width="72" height="20" uuid="ed3f7257-2990-4d4c-837a-6dc5b6cb8f9c"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<text><![CDATA[Tipo]]></text>
			</staticText>
			<staticText>
				<reportElement x="445" y="-1" width="99" height="20" uuid="f4c9cc7c-3b30-46e6-89f2-fb1da78e1468"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<text><![CDATA[Valor]]></text>
			</staticText>
			<staticText>
				<reportElement x="1" y="1" width="49" height="20" uuid="918c3259-d1a2-43bf-8f58-1c348f1af0cc"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<text><![CDATA[Cod.:]]></text>
			</staticText>
			<line>
				<reportElement x="49" y="1" width="1" height="20" uuid="e09f1588-367b-4e5c-85f6-410914e97470"/>
			</line>
			<line>
				<reportElement x="127" y="1" width="1" height="20" uuid="fc927ea7-9a4a-42a7-98e5-290c3e1e94fd"/>
			</line>
			<staticText>
				<reportElement x="132" y="1" width="100" height="20" uuid="542d186a-f8a1-4c1e-aabb-205b2011c8a7"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<text><![CDATA[Descrição]]></text>
			</staticText>
			<line>
				<reportElement x="435" y="1" width="1" height="20" uuid="97d6ee28-64ad-4d94-90d7-16ffd692efdf"/>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="42" splitType="Stretch">
			<rectangle>
				<reportElement x="0" y="1" width="555" height="20" uuid="e3075a79-831f-4ab5-b412-4606f9914537"/>
			</rectangle>
			<rectangle>
				<reportElement x="0" y="21" width="555" height="20" uuid="e2d72e7b-49ef-4cdc-8274-eba2ea875fa0"/>
			</rectangle>
			<textField>
				<reportElement x="53" y="22" width="69" height="19" uuid="1822c2af-7e17-49ed-bc43-fd4e73a9fe74"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tipo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="472" y="22" width="71" height="20" uuid="2e4a8316-b138-482d-ae0d-7452cbe9bb82"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{valor}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="22" width="47" height="19" uuid="2effff6e-91cb-41cd-a892-0ce03dae2a5b"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cod}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="48" y="21" width="1" height="20" uuid="a99e16ed-26dc-4108-ada3-3f95e5ca55aa"/>
			</line>
			<line>
				<reportElement x="127" y="21" width="1" height="20" uuid="1dd5cf73-6d30-4fcb-a17b-b9725f54ddc5"/>
			</line>
			<textField>
				<reportElement x="131" y="22" width="295" height="19" uuid="25f39d4d-e438-4064-abf4-648ebaaa164a"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{descricao}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="67" y="1" width="100" height="20" uuid="1d88d396-25ad-4da0-b751-f1587d292a33"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dtvencimento}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="1" y="1" width="63" height="20" uuid="bba37927-5db9-423f-bc48-49025190f491"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<text><![CDATA[Vencimento:]]></text>
			</staticText>
			<staticText>
				<reportElement x="178" y="1" width="61" height="20" uuid="0c46d27a-9638-4d65-863c-e9c9ea1e32cb"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<text><![CDATA[Pagamento:]]></text>
			</staticText>
			<line>
				<reportElement x="433" y="21" width="1" height="20" uuid="e08356b5-a8f2-4472-9600-443d980e49dd"/>
			</line>
			<staticText>
				<reportElement x="448" y="22" width="17" height="20" uuid="6f41c3e4-0b1e-4edd-98a5-4360e40f2c82"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<text><![CDATA[R$:]]></text>
			</staticText>
			<line>
				<reportElement x="172" y="1" width="1" height="20" uuid="ff73e05b-fed7-48a2-ba72-8ea433f4730e"/>
			</line>
			<line>
				<reportElement x="358" y="1" width="1" height="20" uuid="dee82e86-07ce-4602-a9ff-a5faf0bc08c0"/>
			</line>
			<staticText>
				<reportElement x="359" y="0" width="74" height="20" uuid="3db7740c-9750-4bcb-ba63-372ed0371ca3"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<text><![CDATA[Forma Pgto:]]></text>
			</staticText>
			<textField>
				<reportElement x="442" y="1" width="100" height="20" uuid="391512c1-4239-43b6-8e9c-cb13e17806fb"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{descforma}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="242" y="2" width="100" height="20" uuid="59318d0d-0336-4967-855d-e1269d1712b7"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{coalesce(l.dtpagamento,'')}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="12" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="80" splitType="Stretch">
			<rectangle radius="10">
				<reportElement x="0" y="1" width="556" height="79" uuid="625cf8d2-dc25-49a1-ad8d-2e12437139e2"/>
			</rectangle>
			<staticText>
				<reportElement x="363" y="29" width="100" height="20" uuid="6644b2b3-ca13-4af1-b53a-b0b7adc592c6"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<text><![CDATA[Total Despesas:]]></text>
			</staticText>
			<textField>
				<reportElement x="485" y="29" width="70" height="20" uuid="255a6f7d-899d-4fa7-a5dc-08b22eef21c0"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sdespesas}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="465" y="29" width="17" height="20" uuid="95226b23-09d4-4ad7-8912-601f9b3f5fbb"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<text><![CDATA[R$:]]></text>
			</staticText>
			<textField>
				<reportElement x="485" y="9" width="70" height="20" uuid="19fa90f5-9f78-4363-9f2a-f3c8f7733174"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sreceitas}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="465" y="9" width="17" height="20" uuid="92dbfed4-3613-4594-8006-907112ab4629"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<text><![CDATA[R$:]]></text>
			</staticText>
			<staticText>
				<reportElement x="363" y="9" width="100" height="20" uuid="15f82688-f944-4267-802b-c7f6599d48d6"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<text><![CDATA[Total Receitas:]]></text>
			</staticText>
			<textField>
				<reportElement x="485" y="55" width="70" height="20" uuid="bcd3ea90-8029-4119-8faf-55ffd87bb7ea"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sreceitas}.subtract($V{sdespesas})]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="363" y="51" width="193" height="1" uuid="9ed58ea7-ed03-4160-ada7-05b921f4e109"/>
			</line>
			<staticText>
				<reportElement x="363" y="55" width="100" height="20" uuid="ad933f91-48a6-4e1f-8cff-27e75ea03539"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
					<paragraph lineSpacing="Double"/>
				</textElement>
				<text><![CDATA[Balanço (R - D):]]></text>
			</staticText>
			<staticText>
				<reportElement x="465" y="55" width="17" height="20" uuid="5c973d8c-9dd8-4176-9085-321e3a54169c"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<text><![CDATA[R$:]]></text>
			</staticText>
			<line>
				<reportElement x="363" y="1" width="1" height="79" uuid="5a2e8583-50e9-4679-8bce-53b563ff5ba7"/>
			</line>
		</band>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
